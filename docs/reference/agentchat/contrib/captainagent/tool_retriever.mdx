---
sidebarTitle: tool_retriever
title: autogen.agentchat.contrib.captainagent.tool_retriever
---

## Functions

<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>
#### find_callables
<a href="#autogen.agentchat.contrib.captainagent.tool_retriever..find_callables" class="headerlink" title="Permanent link"></a>

```python
find_callables(directory) -> 
```

    Find all callable objects defined in Python files within the specified directory.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `directory` |  |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>
#### format_ag2_tool
<a href="#autogen.agentchat.contrib.captainagent.tool_retriever..format_ag2_tool" class="headerlink" title="Permanent link"></a>

```python
format_ag2_tool(tool: autogen.tools.tool.Tool) -> 
```

    

<b>Parameters:</b>
| Name | Description |
|--|--|
| `tool` | **Type:** `autogen.tools.tool.Tool` |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>
#### get_full_tool_description
<a href="#autogen.agentchat.contrib.captainagent.tool_retriever..get_full_tool_description" class="headerlink" title="Permanent link"></a>

```python
get_full_tool_description(py_file) -> 
```

    Retrieves the function signature for a given Python file.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `py_file` |  |

<br />

    <h2 id="autogen.agentchat.contrib.captainagent.tool_retriever.LocalExecutorWithTools" class="doc doc-heading">
        <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>
        <span class="doc doc-object-name doc-class-name">LocalExecutorWithTools</span>
        <a href="#autogen.agentchat.contrib.captainagent.tool_retriever.LocalExecutorWithTools" class="headerlink" title="Permanent link"></a>
    </h2>

```python
LocalExecutorWithTools(tools: list[autogen.tools.tool.Tool] | None = None, work_dir: pathlib.Path | str = PosixPath('.'))
```

    An executor that executes code blocks with injected tools. In this executor, the func within the tools can be called directly without declaring in the code block.
    
    For example, for a tool converted from langchain, the relevant functions can be called directly.
    ```python
    from langchain_community.tools import WikipediaQueryRun
    from langchain_community.utilities import WikipediaAPIWrapper
    from autogen.interop import Interoperability
    
    api_wrapper = WikipediaAPIWrapper(top_k_results=1, doc_content_chars_max=3000)
    langchain_tool = WikipediaQueryRun(api_wrapper=api_wrapper)
    interop = Interoperability()
    ag2_tool = interop.convert_tool(tool=langchain_tool, type="langchain")
    
    # `ag2_tool.name` is wikipedia
    local_executor = LocalExecutorWithTools(tools=[ag2_tool], work_dir="./")
    
    code = '''
    result = wikipedia(tool_input=\{"query":"Christmas"})
    print(result)
    '''
    print(
        local_executor.execute_code_blocks(
            code_blocks=[
                CodeBlock(language="python", code=code),
            ]
        )
    )
    ```
    In this case, the `wikipedia` function can be called directly in the code block. This hides the complexity of the tool.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `tools` | The tools to inject into the code execution environment.<br/><br/>Default is an empty list.<br/><br/>**Type:** `list[autogen.tools.tool.Tool] \| None`<br/><br/>**Default:** None |
| `work_dir` | The working directory for the code execution.<br/><br/>Default is the current directory.<br/><br/>**Type:** `pathlib.Path \| str`<br/><br/>**Default:** PosixPath('.') |

### Instance Attributes

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### code_extractor
<a href="#autogen.agentchat.contrib.captainagent.tool_retriever.LocalExecutorWithTools.code_extractor" class="headerlink" title="Permanent link"></a>

    (Experimental) Export a code extractor that can be used by an agent.

### Instance Methods

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### execute_code_blocks
<a href="#autogen.agentchat.contrib.captainagent.tool_retriever.LocalExecutorWithTools.execute_code_blocks" class="headerlink" title="Permanent link"></a>

```python
execute_code_blocks(self, code_blocks: list[autogen.coding.base.CodeBlock]) -> autogen.coding.base.CodeResult
```

    Execute code blocks and return the result.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `code_blocks` | The code blocks to execute.<br/><br/>**Type:** `list[autogen.coding.base.CodeBlock]` |

<b>Returns:</b>
| Type | Description |
|--|--|
| `autogen.coding.base.CodeResult` | CodeResult: The result of the code execution. |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### restart
<a href="#autogen.agentchat.contrib.captainagent.tool_retriever.LocalExecutorWithTools.restart" class="headerlink" title="Permanent link"></a>

```python
restart(self) -> 
```

    Restart the code executor. Since this executor is stateless, no action is needed.

<br />

    <h2 id="autogen.agentchat.contrib.captainagent.tool_retriever.ToolBuilder" class="doc doc-heading">
        <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>
        <span class="doc doc-object-name doc-class-name">ToolBuilder</span>
        <a href="#autogen.agentchat.contrib.captainagent.tool_retriever.ToolBuilder" class="headerlink" title="Permanent link"></a>
    </h2>

```python
ToolBuilder(**kwargs)
```

    

<b>Parameters:</b>
| Name | Description |
|--|--|
| `**kwargs` |  |

### Class Attributes

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### TOOL_PROMPT_DEFAULT
<a href="#autogen.agentchat.contrib.captainagent.tool_retriever.ToolBuilder.TOOL_PROMPT_DEFAULT" class="headerlink" title="Permanent link"></a>

    <br />

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### TOOL_PROMPT_USER_DEFINED
<a href="#autogen.agentchat.contrib.captainagent.tool_retriever.ToolBuilder.TOOL_PROMPT_USER_DEFINED" class="headerlink" title="Permanent link"></a>

    <br />

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### bind
<a href="#autogen.agentchat.contrib.captainagent.tool_retriever.ToolBuilder.bind" class="headerlink" title="Permanent link"></a>

    <br />

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### bind_user_proxy
<a href="#autogen.agentchat.contrib.captainagent.tool_retriever.ToolBuilder.bind_user_proxy" class="headerlink" title="Permanent link"></a>

    <br />

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### retrieve
<a href="#autogen.agentchat.contrib.captainagent.tool_retriever.ToolBuilder.retrieve" class="headerlink" title="Permanent link"></a>

    <br />