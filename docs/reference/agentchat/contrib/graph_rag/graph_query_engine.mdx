---
sidebarTitle: graph_query_engine
title: autogen.agentchat.contrib.graph_rag.graph_query_engine
---

    <h2 id="autogen.agentchat.contrib.graph_rag.graph_query_engine.GraphQueryEngine" class="doc doc-heading">
        <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>
        <span class="doc doc-object-name doc-class-name">GraphQueryEngine</span>
        <a href="#autogen.agentchat.contrib.graph_rag.graph_query_engine.GraphQueryEngine" class="headerlink" title="Permanent link"></a>
    </h2>

```python
GraphQueryEngine(*args, **kwargs)
```

    An abstract base class that represents a graph query engine on top of a underlying graph database.
    
    This interface defines the basic methods for graph-based RAG.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `*args` |  |
| `**kwargs` |  |

### Instance Methods

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### add_records
<a href="#autogen.agentchat.contrib.graph_rag.graph_query_engine.GraphQueryEngine.add_records" class="headerlink" title="Permanent link"></a>

```python
add_records(self, new_records: list) -> bool
```

    Add new records to the underlying database and add to the graph if required.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `new_records` | **Type:** `list` |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### init_db
<a href="#autogen.agentchat.contrib.graph_rag.graph_query_engine.GraphQueryEngine.init_db" class="headerlink" title="Permanent link"></a>

```python
init_db(self, input_doc: list[autogen.agentchat.contrib.graph_rag.document.Document] | None = None) -> 
```

    This method initializes graph database with the input documents or records.
    Usually, it takes the following steps,
    1. connecting to a graph database.
    2. extract graph nodes, edges based on input data, graph schema and etc.
    3. build indexes etc.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `input_doc` | a list of input documents that are used to build the graph in database.<br/><br/>**Type:** `list[autogen.agentchat.contrib.graph_rag.document.Document] \| None`<br/><br/>**Default:** None |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### query
<a href="#autogen.agentchat.contrib.graph_rag.graph_query_engine.GraphQueryEngine.query" class="headerlink" title="Permanent link"></a>

```python
query(
    self,
    question: str,
    n_results: int = 1,
    **kwargs
) -> autogen.agentchat.contrib.graph_rag.graph_query_engine.GraphStoreQueryResult
```

    This method transform a string format question into database query and return the result.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `question` | **Type:** `str` |
| `n_results` | **Type:** `int`<br/><br/>**Default:** 1 |
| `**kwargs` |  |

<br />

    <h2 id="autogen.agentchat.contrib.graph_rag.graph_query_engine.GraphStoreQueryResult" class="doc doc-heading">
        <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>
        <span class="doc doc-object-name doc-class-name">GraphStoreQueryResult</span>
        <a href="#autogen.agentchat.contrib.graph_rag.graph_query_engine.GraphStoreQueryResult" class="headerlink" title="Permanent link"></a>
    </h2>

```python
GraphStoreQueryResult(answer: str | None = None, results: list = &lt;factory>)
```

    A wrapper of graph store query results.
    
    answer: human readable answer to question/query.
    results: intermediate results to question/query, e.g. node entities.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `answer` | **Type:** `str \| None`<br/><br/>**Default:** None |
| `results` | **Type:** `list`<br/><br/>**Default:** &lt;factory> |

### Class Attributes

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### answer
<a href="#autogen.agentchat.contrib.graph_rag.graph_query_engine.GraphStoreQueryResult.answer" class="headerlink" title="Permanent link"></a>

    <br />

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### results
<a href="#autogen.agentchat.contrib.graph_rag.graph_query_engine.GraphStoreQueryResult.results" class="headerlink" title="Permanent link"></a>

    <br />